<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PicAPK - Free Android APKs</title>
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/sorofa65/PicAPK/refs/heads/main/images/icon%20(1).png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ... existing styles ... */
        
        .apps-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            transition: all 0.4s ease;
        }
        
        .app-card {
            /* ... existing styles ... */
            position: relative; /* For clickable area */
        }
        
        /* Make entire card clickable */
        .app-card-link {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1;
        }
        
        .app-card-content {
            position: relative;
            z-index: 2;
            pointer-events: none; /* Allow click through to link */
        }
        
        .app-card-content > * {
            pointer-events: auto; /* Make children clickable */
        }
        
        /* Mobile grid adjustments */
        @media (max-width: 1200px) {
            .apps-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .apps-grid {
                grid-template-columns: repeat(3, 1fr); /* 3 columns on tablets */
            }
        }
        
        @media (max-width: 768px) {
            .apps-grid {
                grid-template-columns: repeat(3, 1fr); /* 3 columns on mobile */
                gap: 15px;
            }
            
            .app-card {
                padding: 20px;
            }
        }
        
        @media (max-width: 576px) {
            .apps-grid {
                grid-template-columns: repeat(2, 1fr); /* 2 columns on small mobile */
            }
            
            .app-card {
                padding: 15px;
            }
        }
        
        @media (max-width: 400px) {
            .apps-grid {
                grid-template-columns: 1fr; /* Single column on very small screens */
            }
        }
        
        /* Remove download button styles */
        .download-btn {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- ... existing navbar ... -->

    <div class="container">
        <!-- ... existing header ... -->
        
        <div class="carousel-container">
            <div class="carousel-header">
                <h2 class="carousel-title" id="currentCategoryTitle">
                    <i class="fas fa-star"></i> Popular Apps
                </h2>
            </div>
            
            <div class="apps-grid" id="appsGrid">
                <div class="loading-spinner"></div>
                <div class="loading-text">Loading apps...</div>
            </div>
        </div>
        
        <div class="carousel-container">
            <div class="carousel-header">
                <h2 class="carousel-title" id="gamesTitle">
                    <i class="fas fa-gamepad"></i> Top Games
                </h2>
            </div>
            
            <div class="apps-grid" id="gamesGrid">
                <div class="loading-spinner"></div>
                <div class="loading-text">Loading games...</div>
            </div>
        </div>
    </div>

    <!-- ... existing footer ... -->

    <script>
        // ... existing script ... 

        // Render apps
        function renderApps(apps) {
            if (!apps || apps.length === 0) {
                appsGrid.innerHTML = '<div class="error-message">No apps found. Try another search or category.</div>';
                return;
            }
            
            appsGrid.innerHTML = '';
            
            apps.forEach(app => {
                const slug = app.id || app.name.toLowerCase().replace(/\s+/g, '-');
                const appCard = document.createElement('div');
                appCard.className = 'app-card';
                
                appCard.innerHTML = `
                    <a href="details.html?slug=${slug}" class="app-card-link"></a>
                    <div class="app-card-content">
                        <div class="app-icon">
                            <img src="${app.icon || 'https://via.placeholder.com/70'}" alt="${app.name}">
                        </div>
                        <h3 class="app-name">${app.name}</h3>
                        <p class="app-description">${app.description}</p>
                        <div class="app-meta">
                            <span>${app.version || 'v1.0'}</span>
                            <span>${app.size || 'Size N/A'}</span>
                        </div>
                        <div class="app-downloads">Downloads: ${app.downloads || 'N/A'}</div>
                    </div>
                `;
                
                appsGrid.appendChild(appCard);
            });
        }

        // Render games
        function renderGames(games) {
            if (!games || games.length === 0) {
                gamesGrid.innerHTML = '<div class="error-message">No games found at the moment.</div>';
                return;
            }
            
            gamesGrid.innerHTML = '';
            
            games.forEach(game => {
                const slug = game.id || game.name.toLowerCase().replace(/\s+/g, '-');
                const gameCard = document.createElement('div');
                gameCard.className = 'app-card';
                
                gameCard.innerHTML = `
                    <a href="details.html?slug=${slug}" class="app-card-link"></a>
                    <div class="app-card-content">
                        <div class="app-icon">
                            <img src="${game.icon || 'https://via.placeholder.com/70'}" alt="${game.name}">
                        </div>
                        <h3 class="app-name">${game.name}</h3>
                        <p class="app-description">${game.description}</p>
                        <div class="app-meta">
                            <span>${game.version || 'v1.0'}</span>
                            <span>${game.size || 'Size N/A'}</span>
                        </div>
                        <div class="app-downloads">Downloads: ${game.downloads || 'N/A'}</div>
                    </div>
                `;
                
                gamesGrid.appendChild(gameCard);
            });
        }

        // ... rest of the script ...
    </script>
</body>
</html>
